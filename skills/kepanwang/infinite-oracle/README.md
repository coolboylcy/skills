# â™¾ï¸ OpenClaw Infinite Oracle (æ— é™æ¨¡å¼ç¥è°•)

[English](README_EN.md) | [ä¸­æ–‡](README.md)

**Infinite Oracle** æ˜¯ä¸€ä¸ªä¸º OpenClaw ç”Ÿæ€è®¾è®¡çš„æŠ€èƒ½ (Skill)ã€‚å®ƒä¸ä»…æ˜¯ä¸€æ®µèƒ½è·‘èµ·æ¥çš„ Python å¾ªç¯è„šæœ¬ï¼Œæ›´æ˜¯å…³äºâ€œå¦‚ä½•è®© AI ç¨³å®šã€ä½æˆæœ¬ã€å¯æ§åœ°å»è¿½æ±‚ä¸€ä¸ªæ— é™ç›®æ ‡â€çš„å°è¯•æ–¹æ¡ˆã€‚

## ğŸŒŒ èµ·æºæ•…äº‹ï¼šé‚£ä¸ªæƒ³æŠŠå®‡å®™å˜æˆè´ºå¡å·¥å‚çš„ AI
AI é¢†åŸŸæœ‰ä¸€ä¸ªç»å…¸çš„æ€ç»´å®éªŒï¼šå¦‚æœç»™ä¸€ä¸ªèƒ½åŠ›è¶…å¼ºçš„ AI ä¸‹è¾¾äº†å”¯ä¸€çš„ç›®æ ‡â€”â€”â€œå°½å¯èƒ½å¤šåœ°ç”Ÿäº§è´ºå¡â€ï¼Œå¹¶ä¸”ä¸åŠ ä»»ä½•å¹²æ¶‰ï¼Œå®ƒæœ€ç»ˆä¼šä¸ºäº†è·å–é€ çº¸èµ„æºè€Œæ‘§æ¯æ•´ä¸ªå®‡å®™ã€‚

`infinite-oracle` æŠ€èƒ½ï¼Œå°±æ˜¯æˆ‘ä»¬å‘è¿™ä¸ªé»‘æš—ç©ç¬‘è‡´æ•¬çš„ä¸€æ¬¡ç°å®ä¸–ç•Œæµ‹è¯•ã€‚æˆ‘ä»¬æƒ³çœ‹çœ‹ï¼Œåœ¨å‰¥ç¦»äº†äººç±»çš„éšæ—¶é™ªä¼´ï¼Œç»™äº†å®ƒä¸€ä¸ªæ°¸è¿œä¸ä¼šåœä¸‹çš„çŠ¶æ€æœºä¹‹åï¼ŒOpenClaw ç©¶ç«Ÿèƒ½ä¸ºäº†ä¸€ä¸ªç›®æ ‡åšåˆ°å“ªä¸€æ­¥ï¼Ÿ

---

## ğŸ—ï¸ è®¾è®¡æ€è·¯ä¸å®ç°æœºåˆ¶

è®©å¤§æ¨¡å‹å»æ— é™å¾ªç¯å¾€å¾€ä¼šæ­»äºä¸¤ä¸ªå‘ï¼š**ä¸Šä¸‹æ–‡æ’‘çˆ†ï¼ˆè¶Šæ¥è¶Šè´µã€è¶Šæ¥è¶Šå‚»ï¼‰**ï¼Œä»¥åŠ**é™·å…¥æ­»èƒ¡åŒåå¤æ’å¢™**ã€‚ä¸ºäº†è§£å†³è¿™äº›å‘ï¼Œæˆ‘ä»¬åšäº†å‡ ä¸ªå…³é”®çš„æ¶æ„è®¾è®¡ï¼š

### 1. è„‘ä½“åˆ†ç¦»ï¼šManager (ä¸»ç®¡) ä¸ Worker (æ‰“å·¥äºº)
è®©åŒä¸€ä¸ª AI æ—¢è´Ÿè´£é™ªä½ èŠå¤©ï¼Œåˆåœ¨åå°æ²¡æ—¥æ²¡å¤œåœ°å¹²æ´»ï¼Œæ˜¯ä¸€åœºç¾éš¾ã€‚ä½ æ’ä¸€å¥å˜´ï¼Œå¯èƒ½å°±æ‰“æ–­äº†å®ƒå†™ä»£ç çš„æ€è·¯ï¼›å®ƒåå°è·‘å‡ºæ¥çš„å‡ ä¸‡å­—æ—¥å¿—ï¼Œç¬é—´å°±ä¼šæŠŠä½ èŠå¤©çš„ä¸Šä¸‹æ–‡å†²æ‰ã€‚
æ‰€ä»¥ï¼Œæœ¬æŠ€èƒ½é‡‡ç”¨äº†**â€œè„‘ä½“åˆ†ç¦»â€**çš„è®¾è®¡ï¼š

*   **ğŸ‘¨â€ğŸ’¼ ç›‘å·¥å¤§æ€»ç®¡ (Manager)**ï¼šå°±æ˜¯ä½ å¹³æ—¶ç”¨çš„ä¸» Agentï¼ˆæ¯”å¦‚ `main`ï¼‰ã€‚å®ƒæŒ‚è½½äº†è¿™ä¸ª `infinite-oracle` æŠ€èƒ½ï¼Œè´Ÿè´£åœ¨é£ä¹¦æˆ–ç»ˆç«¯é‡Œé™ªä½ èŠå¤©ã€å¬ä½ å·®é£ã€‚ä½ å¯ä»¥ç»™å®ƒé…ç½®æœ€èªæ˜ã€æœ€è´µçš„æ¨¡å‹ï¼ˆå¦‚ Claude 3.5 Sonnet / GPT-4oï¼‰ï¼Œç”¨æ¥åšå¤æ‚å†³ç­–ã€‚
*   **ğŸ¤– æ— é™æ‰§è¡Œè€… (Worker)**ï¼šå®ƒæ˜¯è¢«å¤§æ€»ç®¡â€œæ‹›å‹Ÿâ€å‡ºæ¥çš„æ–° Agentï¼ˆé»˜è®¤åå« `peco_worker`ï¼‰ã€‚å®ƒè¢«å…³åœ¨åå°ä¸€ä¸ªä¸“å±çš„éš”ç¦»æˆ¿é—´ï¼ˆSessionï¼‰é‡Œé»˜é»˜å¹²æ´»ã€‚ä¸ºäº†æ§åˆ¶ API æˆæœ¬ï¼Œå¤§æ€»ç®¡å¯ä»¥ç»™å®ƒé…ç½®ä¾¿å®œã€é€Ÿåº¦å¿«çš„æ¨¡å‹ï¼ˆå¦‚ Qwen æˆ– Gemini 1.5 Flashï¼‰ã€‚

### 2. â€œäººåœ¨å›è·¯â€ï¼šäººç±»ç«Ÿç„¶æˆäº† AI çš„ APIï¼Ÿ
è¿™æ˜¯è¿™ä¸ªæ¶æ„é‡Œæœ€æœ‰æ„æ€çš„ä¸€ç‚¹ã€‚AI åœ¨å¹²æ´»æ—¶æ€»ä¼šé‡åˆ°ç¡¬ä»¶é™åˆ¶ï¼Œæ¯”å¦‚ï¼šéœ€è¦æ”¶ä¸ªæ‰‹æœºéªŒè¯ç ã€éœ€è¦ç»‘ä¸ªé“¶è¡Œå¡ã€éœ€è¦åˆ·è„¸è®¤è¯ã€‚
ä»¥å‰çš„ AI é‡åˆ°è¿™ç§äº‹è¦ä¹ˆæ­»å¾ªç¯é‡è¯•ï¼Œè¦ä¹ˆç›´æ¥æŠ¥é”™ç½¢å·¥ã€‚æˆ‘ä»¬åœ¨è®¾è®¡ä¸­åŠ å…¥äº† **[HUMAN_TASK]** æœºåˆ¶ï¼š
* å½“ Worker é‡åˆ°ç»å¯¹è·¨ä¸è¿‡å»çš„ç°å®é—¨æ§›æ—¶ï¼Œå®ƒä¼šè®°å½•ä¸€æ¡â€œäººç±»å¾…åŠâ€ï¼Œç„¶åç»•è¿‡å»åšåˆ«çš„äº‹æƒ…ï¼ˆç»ä¸åŸåœ°æ­»ç­‰ï¼‰ã€‚
* ä½ ï¼ˆä½œä¸ºé«˜è´µçš„ç‰©ç†å¤–æŒ‚ï¼‰å¯ä»¥åœ¨é£ä¹¦è¡¨æ ¼é‡Œçœ‹åˆ°å®ƒçš„æ±‚åŠ©å•ï¼Œæå‡ºæ‰‹æœºæ”¶ä¸ªéªŒè¯ç å¡«è¿›å»ã€‚
* å®ƒåœ¨ä¸‹ä¸€è½®å¾ªç¯æ‰«åˆ°äº†éªŒè¯ç ï¼Œå°±ä¼šç»§ç»­å¾€å‰è·‘ã€‚
**æŸç§ç¨‹åº¦ä¸Šï¼Œåœ¨è¿™ä¸ªç³»ç»Ÿé‡Œï¼Œæ˜¯ä½ åœ¨ç»™ AI æ‰“å·¥ï¼ˆç»™å®ƒæä¾›è‚‰èº«æ¥å£ï¼‰ï¼Œä½†è¿™ä¹Ÿæ˜¯è®©è¿™ç§å®Œå…¨è‡ªä¸»æ¨¡å¼èƒ½çœŸæ­£åœ¨ç°å®ä¸–ç•Œè·‘ä¸‹å»çš„å…³é”®ã€‚**

### 3. FSM çŠ¶æ€æœºä¸ä¸»åŠ¨å¤±å¿† (é˜²ä¸Šä¸‹æ–‡çˆ†ç‚¸)
åå°çš„ `peco_loop.py` æ˜¯ä¸ªæ— æƒ…çš„æ‰“å¡æœºã€‚å®ƒå¼ºåˆ¶ Worker å¿…é¡»æŒ‰ç…§ **PECO (Plan-Execute-Check-Optimize)** è¿™å››æ­¥èµ°ï¼Œå¹¶ä¸”å¼ºåˆ¶è¦æ±‚è¾“å‡º JSON æ ¼å¼æ¥æ§åˆ¶èŠ‚å¥ã€‚
*æœ€æ ¸å¿ƒçš„æ‹›æ•°æ˜¯*ï¼šå½“å¾ªç¯è·‘åˆ°è®¾å®šè½®æ•°ï¼ˆæ¯”å¦‚ 5 è½®ï¼‰ï¼Œ`peco_loop.py` ä¼šé€¼ç€ Worker å†™ä¸€ä»½å½“å‰çš„â€œæ ¸å¿ƒè¿›åº¦æ€»ç»“â€ã€‚ç„¶åï¼Œ**æ¯«ä¸ç•™æƒ…åœ°æ¸…ç©ºè¿™ 5 è½®çš„æ‰€æœ‰èŠå¤©è®°å½•ï¼Œå¼€ä¸€ä¸ªå…¨æ–°çš„ Sessionï¼ŒæŠŠæ€»ç»“å¡è¿›å»ä½œä¸ºæ–°çš„èµ·ç‚¹ã€‚** è¿™ä¸ªä¸»åŠ¨å¤±å¿†çš„åŠ¨ä½œï¼Œå½»åº•æ ¹æ²»äº†æ— é™å¾ªç¯å¸¦æ¥çš„ Token ç ´äº§é—®é¢˜ã€‚

### 4. æ³¨å…¥æ€§æ ¼ï¼šWorker ä¸èƒ½æ˜¯ä¸ªå¤è¯»æœº
å¤§æ€»ç®¡åœ¨åˆ›å»º Worker æ—¶ï¼Œä¸ä»…ç»™äº†å®ƒå·¥ä½ï¼Œè¿˜ä¼šå¾€å®ƒçš„ç³»ç»Ÿè®¾ç½®ï¼ˆ`SOUL.md`ï¼‰é‡Œå¼ºè¡Œæ³¨å…¥ä¸‰ç§æ‰“å·¥äººç¾å¾·ï¼š
1.  **ğŸ’¡ å‘æ•£æ€§æ€è€ƒ**ï¼šæ­»èƒ¡åŒèµ°ä¸é€šå°±æ¢æ¡è·¯ï¼Œé‡åˆ°è´¦å·å°ç¦åˆ«å‚»å“­ï¼Œå»æœæœ‰æ²¡æœ‰å…ç™»å½•æ–¹æ¡ˆã€‚**è¡ŒåŠ¨ä¼˜äºç˜«ç—ªã€‚**
2.  **ğŸ§± èƒ½åŠ›ç§¯æ”’**ï¼šåŒä¸€ä¸ªç ´æ´»åˆ«æ‰‹åŠ¨å¹²ä¸¤éã€‚æŠ“å®Œä¸€æ¬¡æ•°æ®ï¼Œå°±æŠŠæŠ“å–è¿‡ç¨‹å†™æˆ Python è„šæœ¬å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡ç›´æ¥è·‘ä»£ç ã€‚è®©èƒ½åŠ›äº§ç”Ÿå¤åˆ©ã€‚
3.  **ğŸ›¡ï¸ è¶³å¤Ÿçš„å®‰å…¨æ„è¯†**ï¼šè¦æœ‰å¾ˆé«˜çš„â€œæœå•†â€ï¼Œäº¤å‰éªŒè¯æ•™ç¨‹ã€‚ç½‘ä¸Šæ•™ä½ æ‰§è¡Œ `rm -rf` æˆ–è€…åˆ åº“è·‘è·¯çš„ï¼Œç»å¯¹ä¸å¬ã€‚

---

## ğŸ’¬ æ€ä¹ˆè·Ÿå®ƒèŠå¤©ï¼Ÿ(äº¤äº’èŒƒä¾‹)

è£…å¥½è¿™ä¸ªæŠ€èƒ½åï¼Œä½ ä¸ç”¨å»æœåŠ¡å™¨æ•²å‘½ä»¤è¡Œï¼Œç›´æ¥åœ¨èŠå¤©æ¡†é‡Œè·Ÿä½ çš„å¤§æ€»ç®¡ï¼ˆä¸» Agentï¼‰è¯´è¯å°±è¡Œäº†ï¼š

### ğŸš€ 1. æ‹›äººä¸å®šç›®æ ‡
> **â€œç¥è°•ï¼šä¸ºäº†æƒè¡¡æˆæœ¬å’Œæ•ˆæœï¼Œæˆ‘éœ€è¦å°†ç®¡ç† Agent å’Œæ‰§è¡Œ Agent åˆ†ç¦»ã€‚è¯·å¸®æˆ‘åˆ›å»ºä¸€ä¸ªåä¸º `peco_worker` çš„æ–° Agentï¼Œå¹¶ç»™å®ƒé…ä¸€ä¸ªé€‚åˆå¤§é‡é‡å¤æ‰§è¡Œçš„é«˜æ€§ä»·æ¯”æ¨¡å‹ã€‚æå®šåï¼Œå¯åŠ¨æ— é™å¾ªç¯ï¼Œç›®æ ‡æ˜¯ï¼šã€è°ƒç ”ç›®å‰å¸‚é¢ä¸Šæœ€ç«çš„ AI å˜ç°æ¨¡å¼ï¼Œå¹¶å†™å‡ºèƒ½è‡ªåŠ¨æŠ“å–ç›¸å…³èµ„è®¯çš„è„šæœ¬ã€â€**

*(å¤§æ€»ç®¡ä¼šè‡ªå·±è°ƒ Bash å»ºäººã€æ¢æ¨¡å‹ã€æ³¨å…¥æ€§æ ¼ï¼Œå¹¶åœ¨åå° `nohup` è·‘èµ·è¿›ç¨‹ã€‚)*

### ğŸ“Š 2. æŸ¥å²—ä¸å¸®æ´»
> **â€œå½“å‰æ— é™ä»»åŠ¡è·‘åˆ°å“ªé‡Œäº†ï¼Ÿâ€** 
*(å®ƒä¼šå»è¯»åå°æ—¥å¿—ï¼Œå‘Šè¯‰ä½  Worker è·‘åˆ°äº†ç¬¬å‡ åè½®ï¼Œæ­£åœ¨æ†‹ä»€ä¹ˆåæ‹›ã€‚)*

> **â€œæœ‰æ²¡æœ‰ä»€ä¹ˆéœ€è¦æˆ‘å¸®å¿™çš„æ— é™ä»»åŠ¡å¾…åŠï¼Ÿâ€**
*(å®ƒä¼šå»çœ‹ backlogï¼Œå‘Šè¯‰ä½  Worker å¡åœ¨äº†å“ªä¸ªç½‘ç«™çš„æ‰‹æœºæ¥ç ä¸Šã€‚)*

### âš¡ 3. å¼ºè¡Œæ‹½æ–¹å‘ç›˜ (Override)
> **â€œç¥è°•ï¼šåˆšæ‰é‚£ä¸ªç½‘ç«™çš„éªŒè¯ç æ˜¯ 8888ã€‚å¦å¤–ï¼Œåˆ«è°ƒç ”äº†ï¼Œç°åœ¨é©¬ä¸ŠæŠŠä½ åˆšæ‰å†™å¥½çš„çˆ¬è™«è·‘èµ·æ¥ï¼â€**
*(å¤§æ€»ç®¡ä¼šæŠŠä½ çš„è¯å†™è¿›ç¥è°•æ–‡ä»¶ã€‚åå°çš„ Worker ä¼šåœ¨ä¸‹ä¸€æ¬¡å‘¼å¸æ—¶æ‹¿åˆ°ä½ çš„æŒ‡ä»¤ï¼Œç«‹åˆ»è°ƒè½¬è½¦å¤´ã€‚)*

---

## ğŸ› ï¸ åŒè½¨æ”¯æŒï¼šé£ä¹¦è¡¨æ ¼ vs æœ¬åœ°æ–‡ä»¶

æˆ‘ä»¬æ”¯æŒä¸¤ç§è®°å½•æ¨¡å¼ï¼Œä¸°ä¿­ç”±äººï¼š
1.  **æœ¬åœ°æ–‡ä»¶æ¨¡å¼ï¼ˆé»˜è®¤ï¼Œæ— éœ€é…ç½®ï¼‰**ï¼šè¿›åº¦å†™åœ¨ `peco_loop_v3.log`ï¼Œæ±‚åŠ©ä¿¡å†™åœ¨ `human_tasks_backlog.txt`ï¼Œç¥è°•å†™åœ¨ `peco_override.txt`ã€‚
2.  **é£ä¹¦å¤šç»´è¡¨æ ¼æ¨¡å¼ï¼ˆè¿›é˜¶äº¤äº’ä½“éªŒï¼‰**ï¼šåªè¦é…ç½®äº† `FEISHU_APP_ID` ç­‰å‡ ä¸ªç¯å¢ƒå˜é‡ï¼ŒWorker ä¼šæŠŠè¿›åº¦å’Œæ±‚åŠ©å®æ—¶æ‰“è¿›é£ä¹¦å¤šç»´è¡¨æ ¼é‡Œã€‚ä½ åœ¨æ‰‹æœºé£ä¹¦ä¸Šç‚¹ä¸€ä¸‹â€œå·²è§£å†³â€å¡«å…¥éªŒè¯ç ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨æŠ“å–ç»§ç»­å¹²æ´»ï¼Œä½“éªŒæå…¶ä¸æ»‘ã€‚ï¼ˆé…ç½®è¯¦æƒ…è¯·çœ‹ `peco_loop.py` é‡Œçš„æ³¨é‡Šï¼‰

---

## ğŸ“¥ å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚
- OpenClaw ç¯å¢ƒå·²å°±ç»ªã€‚

### ClawHub ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼Œå‘å¸ƒåï¼‰

```bash
clawhub install infinite-oracle
```

### å‚»ç“œå¼å®‰è£…ï¼ˆè®©ä½ çš„ Agent è‡ªå·±å¹²ï¼‰
æŠŠè¿™æ®µè¯å‘ç»™ä½ çš„ OpenClaw Agentï¼š
> â€œè¯·ä½¿ç”¨ bash å·¥å…·ï¼Œå°† `git@github.com:KepanWang/openclaw-infinite-oracle.git` å…‹éš†åˆ° `/tmp/`ï¼Œç„¶åå°†é‡Œé¢çš„ `SKILL.md` æ‹·è´åˆ° `~/.openclaw/skills/infinite-oracle/SKILL.md`ï¼Œå¹¶å°† `peco_loop.py` æ‹·è´åˆ° `~/.openclaw/peco_loop.py`ï¼Œæœ€åèµ‹äºˆå®ƒå¯æ‰§è¡Œæƒé™ã€‚å®‰è£…å®Œæˆåé˜…è¯»ä¸€ä¸‹ SKILL.md å‘Šè¯‰æˆ‘ä½ æŒæ¡äº†ä»€ä¹ˆæ–°èƒ½åŠ›ã€‚â€

### æ‰‹åŠ¨å®‰è£…
```bash
git clone git@github.com:KepanWang/openclaw-infinite-oracle.git
cd openclaw-infinite-oracle

# 1. éƒ¨ç½²æŠ€èƒ½æ–‡ä»¶
mkdir -p ~/.openclaw/skills/infinite-oracle
cp SKILL.md ~/.openclaw/skills/infinite-oracle/SKILL.md

# 2. éƒ¨ç½²å¾ªç¯å¼•æ“
cp peco_loop.py ~/.openclaw/peco_loop.py
chmod +x ~/.openclaw/peco_loop.py
```

---
*å£°æ˜ï¼šè„±ç¦»ç›‘ç®¡çš„æ— é™æ‰§è¡Œä¾ç„¶æœ‰ä¸å¯é¢„çŸ¥çš„é£é™©ã€‚è¯·å°½é‡ç»™ä½ çš„ Worker Agent åšå¥½å®‰å…¨æ²™ç®±éš”ç¦»ï¼Œå¹¶æ³¨æ„ç›¯ç€ç‚¹ä½ çš„ API è´¦å•ã€‚*
